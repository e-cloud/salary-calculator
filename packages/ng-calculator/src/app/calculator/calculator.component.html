<!-- 基础表单组件 -->
<app-calculator-form
  [baseForm]="baseForm"
  [usePredefinedInsurancePercents]="usePredefinedInsurancePercents"
  [cityRecipe]="cityRecipe"
  [recipes$]="recipes$"
  (calculate)="calculate($event)"
  (reset)="reset()"
  (clearResult)="clearResult()"
  (changeRecipe)="changeRecipe($event)"
  (changePredefineCondition)="changePredefineCondition($event)"
></app-calculator-form>

<div class="row mt-5">
  <app-monthly-results
    class="col-md-6 col-sm-12 mb-4 mb-md-0"
    [clear]="clear"
    [monthlyIncomes$]="monthlyIncomes$"
    [detailForms]="detailForms"
    [cityRecipe]="cityRecipe"
    (updateMeta)="updateMeta($event.meta, $event.index)"
    (changeChartMonth)="changeChartMonth($event)"
  ></app-monthly-results>

  <div class="col-md-6">
    <app-summary-charts
      [clear]="clear"
      [deductionChartOption]="deductionChartOption"
      [annualDeductionChartOption]="annualDeductionChartOption"
      [monthlyIncomes$]="monthlyIncomes$"
      [summary$]="summary$"
      [selectedMonthIndex$]="selectedMonthIndex$"
      (changeChartMonth)="changeChartMonth($event)"
    ></app-summary-charts>

    <app-summary-details
      [clear]="clear"
      [summary$]="summary$"
    ></app-summary-details>
  </div>
</div>
